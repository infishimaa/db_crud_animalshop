# Animal Shop

## Опис
Animal Shop — це CRUD‑система для керування **користувачами** та **товарами (тваринами)**.  
Система дозволяє додавати, редагувати, видаляти та переглядати дані через веб‑інтерфейс.

---

## Технології
- **Мова програмування:** PHP
- **База даних:** MySQL
- **Інтерфейс:** HTML, CSS, JavaScript
- **Інфраструктура:** Docker + Docker Compose

---

## Структура проєкту
- **lab6/** — основна папка проєкту
  - **mysql/** — налаштування бази даних
    - **init/** — SQL‑схеми та початкові дані
      - `001_schema.sql` — створення таблиць `users`, `animals` та `orders`
  - **src/** — вихідний код застосунку
    - **public/** — основні файли веб‑інтерфейсу
      - `db.php` — підключення до MySQL
      - `handlers.php` — обробка CRUD‑операцій
      - `index.php` — головна сторінка з інтерфейсом
      - `script.js` — клієнтська логіка (робота кнопок, модальних вікон)
      - `styles.css` — стилі оформлення
  - `.env` — змінні середовища для налаштування БД
  - `backup_animal_shop.sql` - резервна копія бази даних
  - `docker-compose.yml` — конфігурація контейнерів (PHP + MySQL)
  - `README.md` - документація проєкту
  - `replica_dump.sql` - дамп для реплікації MySQL

  ---

---

## Запуск проєкту

**Клонувати репозиторій**
   ```bash
   git clone <url>
   cd lab6

**Підняти Docker‑контейнери**
    docker-compose up -d

- Це створить:
- crud_app — PHP‑Apache застосунок
- crud_db — основна база MySQL
- crud_pma — phpMyAdmin для керування БД
- mysql_replica — репліка MySQL для демонстрації реплікації


**Відкрити сайт**
    http://localhost:8080

---    

## CRUD-функціонал 
Користувачі
- Додавання нового користувача
- Редагування даних користувача
- Видалення користувача
- Перегляд списку користувачів
Тварини
- Додавання нової тварини
- Редагування даних тварини
- Видалення тварини
- Перегляд списку тварин
## Додатково (ЛР №5)
Усі операції виконуються через веб‑інтерфейс.
Реалізовано роботу з **реплікою MySQL** (`mysql_replica`) для демонстрації синхронізації даних.  
CRUD‑операції протестовано на основній БД та перевірено коректність відображення у репліці.

### Безпека та валідація даних (ЛР №6)
У межах шостої лабораторної роботи було проведено аудит безпеки застосунку та впроваджено захисні механізми проти основних веб-вразливостей.

**В межах роботи було оновлено наступні файли:**
1. **db.php**: 
2. **handlers.php**: 
3. **index.php**: 
4. **script.js**: 

**Результати аудиту безпеки:**
1.  **Аналіз точок входу**: Проаналізовано всі форми (додавання/редагування) та URL-параметри.
2.  **Санітизація**: Усі дані, що надходять від користувача, проходять фільтрацію перед обробкою на сервері.
3.  **Сканування вразливостей**: Проєкт протестовано за допомогою автоматизованого сканера (OWASP ZAP). Виявлені потенційні ризики (відсутність специфічних HTTP-заголовків безпеки) були зафіксовані у звіті.


Автори: Кумановський Дмитро та Корицька Ольга - студенти 2-го курсу спеціальності "Комп'ютерна інженерія". 
Проєкт виконано у рамках дисципліни "Організація баз даних".



